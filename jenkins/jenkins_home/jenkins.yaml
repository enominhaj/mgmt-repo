jenkins:
  systemMessage: "Managed with Configuration as Code by enosis (a) ashraf-minhaj"
  numExecutors: 2   # run two jobs in parallel
  authorizationStrategy:
    loggedInUsersCanDoAnything:
      allowAnonymousRead: false
  disableRememberMe: false
  securityRealm:
    local:
      allowsSignup: false
      users:
        - id: minhaj
          name: minhaj
          password: minhaj123
  clouds:
    - kubernetes:
        name: "kind-cluster"
        serverUrl: "https://192.168.0.101:6443" # ip of cluster server
        skipTlsVerify: true
        credentialsId: "kubeconfig"
        namespace: "default"
        jenkinsUrl: "http://192.168.0.101:8080/"   # URL Jenkins uses for agents
        containerCapStr: "10"                # max pods
        templates:
          - name: "build-agent"              # Java Network Launch Protocol
            label: "build-agent"
            containers:
              - name: "build-agent"
                image: "enominhaj/build-agent:v1"
                ttyEnabled: true
                resourceRequestCpu: "300m"
                resourceRequestMemory: "256Mi"
                alwaysPullImage: true
                privileged: false
          # - name: "go-agent"              # Java Network Launch Protocol
          #   label: "go-agent"
          #   containers:
          #     - name: "golang"
          #       image: "golang:1.25.6"
          #       ttyEnabled: true
          #       resourceRequestCpu: "500m"
          #       resourceRequestMemory: "512Mi"
          #       alwaysPullImage: true
          #       privileged: false
          # # Docker agent (DinD)
          # - name: "docker-agent"
          #   label: "docker-agent"
          #   containers:
          #     - name: "docker"
          #       image: "docker:24.0-dind"
          #       ttyEnabled: true
          #       privileged: true
          #       resourceRequestCpu: "500m"
          #       resourceRequestMemory: "512Mi"
          #       alwaysPullImage: true
          #       command: "dockerd-entrypoint.sh"
          #       args: "--host=tcp://0.0.0.0:2375"
          # - name: "helm-agent"
          #   label: "helm-agent"
          #   containers:
          #     - name: "helm"
          #       image: "alpine/helm:3.12.3"  # official Helm image
          #       ttyEnabled: true
          #       resourceRequestCpu: "200m"
          #       resourceRequestMemory: "256Mi"
          #       alwaysPullImage: true
unclassified:
  globalLibraries:
    libraries:
    - defaultVersion: "main"
      name: "custom-libs"
      retriever:
        modernSCM:
          scm:
            gitSource:
              remote: "https://github.com/enominhaj/mgmt-repo.git"
              traits:
              - "gitBranchDiscovery"
  mailer:
    # The SMTP server for sending emails
    smtpHost: 192.168.0.101      
    smtpPort: 1025               # SMTP port
    useSsl: false                
    useTls: false
    defaultSuffix: "@example.com"  # appended if recipient address is incomplete
    replyToAddress: "jenkins@example.com"   # default from address
  
tool:
  git:
    installations:
    - home: "git"
      name: "Default"

credentials:
  system:
    domainCredentials:
    - credentials:
      - file:
          fileName: "config"
          id: "kubeconfig"
          scope: GLOBAL
          description: "File path C:/Users/ashrafur.minhaj/.kube/config"
          secretBytes: ${base64:${file:/kube/config}}
      - usernamePassword:
          id: "docker_hub_credentials"
          scope: GLOBAL
          description: "Docker Hub username and password"
          username: ${DOCKER_HUB_USER}
          password: ${DOCKER_HUB_TOKEN}
